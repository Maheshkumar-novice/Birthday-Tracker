{% extends 'base.html' %}

{% block title %}Edit Birthday{% endblock %}

{% block content %}
<a href="{{ url_for('main.index') }}" class="back-link">
    ‚Üê Back to birthdays
</a>

<div class="card">
    <h1 class="page-title">Edit Birthday</h1>
    <p class="page-description">Update the birthday details.</p>

    <form method="POST" action="{{ url_for('main.edit', id=birthday.id) }}">
        <div class="form-group">
            <label for="name" class="form-label">Name</label>
            <input type="text" id="name" name="name" class="form-input" placeholder="e.g., John Doe"
                value="{{ birthday.name }}" required autofocus>
        </div>

        <div class="form-group">
            <label class="form-label">Birthday</label>
            <div class="date-inputs">
                <select id="month" name="month" class="form-input" required>
                    <option value="">Month *</option>
                    {% for m in [(1, 'January'), (2, 'February'), (3, 'March'), (4, 'April'), (5, 'May'), (6, 'June'),
                    (7, 'July'), (8, 'August'), (9, 'September'), (10, 'October'), (11, 'November'), (12, 'December')]
                    %}
                    <option value="{{ m[0] }}" {% if birthday.date.month==m[0] %}selected{% endif %}>{{ m[1] }}</option>
                    {% endfor %}
                </select>

                <select id="day" name="day" class="form-input" required>
                    <option value="">Day *</option>
                    {% for d in range(1, 32) %}
                    <option value="{{ d }}" {% if birthday.date.day==d %}selected{% endif %}>{{ d }}</option>
                    {% endfor %}
                </select>

                <input type="number" id="year" name="year" class="form-input" placeholder="Year (optional)"
                    value="{% if birthday.has_year() %}{{ birthday.date.year }}{% endif %}" min="1900" max="2100">
            </div>
            <small style="color: var(--text-secondary); font-size: 0.875rem;">* Required. Year is optional if
                unknown.</small>
        </div>

        <div class="form-group">
            <label for="category" class="form-label">Category</label>
            <select id="category" name="category" class="form-input">
                {% for cat in categories %}
                <option value="{{ cat }}" {% if cat==birthday.category %}selected{% endif %}>{{ cat }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label for="notes" class="form-label">Notes (optional)</label>
            <textarea id="notes" name="notes" class="form-input"
                placeholder="Add gift ideas, preferences, or other notes...">{{ birthday.notes or '' }}</textarea>
        </div>

        <div class="form-actions">
            <a href="{{ url_for('main.index') }}" class="btn btn-secondary">
                Cancel
            </a>
            <button type="submit" class="btn btn-primary">
                Update Birthday
            </button>
        </div>
    </form>
</div>
{% endblock %}